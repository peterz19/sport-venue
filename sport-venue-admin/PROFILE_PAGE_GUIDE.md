# 个人信息页面使用指南

## 功能概述

个人信息页面允许用户查看和编辑个人资料信息，包括基本信息、安全设置和账户信息。

## 页面功能

### 📋 基本信息管理
- **头像管理** - 上传和更换个人头像
- **个人信息** - 编辑真实姓名、邮箱、手机号等
- **个人资料** - 设置性别、生日、个人简介、地址

### 🔒 安全设置
- **密码修改** - 修改登录密码
- **密码验证** - 修改密码时需要验证当前密码
- **密码确认** - 新密码需要输入两次确认

### 📊 账户信息
- **注册时间** - 显示账户注册时间
- **最后登录** - 显示最后登录时间
- **账户状态** - 显示账户是否正常
- **用户角色** - 显示用户角色信息

## 使用方法

### 1. 访问个人信息页面
1. 登录系统后，点击右上角的用户头像
2. 在下拉菜单中选择"个人信息"
3. 页面会自动跳转到个人信息页面

### 2. 查看个人信息
- 页面默认以只读模式显示所有信息
- 可以查看基本信息、账户信息等
- 头像会显示当前用户的头像或默认头像

### 3. 编辑个人信息
1. 点击页面右上角的"编辑信息"按钮
2. 表单变为可编辑状态
3. 修改需要更新的信息
4. 点击"保存"按钮保存更改
5. 或点击"取消"按钮放弃更改

### 4. 更换头像
1. 在编辑模式下，点击头像下方的"更换头像"按钮
2. 选择图片文件（支持JPG、PNG格式，大小不超过2MB）
3. 头像会自动更新

### 5. 修改密码
1. 在编辑模式下，填写"当前密码"
2. 输入"新密码"（至少6位）
3. 再次输入"确认新密码"
4. 点击"保存"按钮完成密码修改

## 表单验证规则

### 基本信息验证
- **真实姓名** - 必填，2-20个字符
- **邮箱地址** - 必填，必须是有效的邮箱格式
- **手机号** - 必填，必须是有效的手机号格式（11位数字）

### 密码验证
- **当前密码** - 修改密码时必填
- **新密码** - 至少6位字符
- **确认密码** - 必须与新密码一致

## 数据存储

### 本地存储
- 用户信息会保存在浏览器的localStorage中
- 包括基本信息、头像URL等
- 页面刷新后数据不会丢失

### 后端接口
- 页面会尝试调用后端API获取和保存数据
- 如果后端接口不可用，会使用本地存储作为备用
- 支持离线使用

### 错误处理
- 已修复404错误问题
- API调用失败时不会显示错误消息
- 采用优雅降级策略，确保页面正常使用

## 界面特点

### 🎨 响应式设计
- 适配不同屏幕尺寸
- 移动端友好
- 布局清晰美观

### 🔄 实时反馈
- 表单验证实时提示
- 操作结果即时反馈
- 加载状态显示

### 🛡️ 安全保护
- 密码输入框支持显示/隐藏
- 敏感信息保护
- 操作确认机制

## 技术实现

### 前端技术
- **Vue 3** - 响应式框架
- **Element Plus** - UI组件库
- **Vue Router** - 路由管理

### 主要组件
- **el-form** - 表单组件
- **el-upload** - 文件上传
- **el-avatar** - 头像显示
- **el-descriptions** - 信息展示

### 数据管理
- **reactive** - 响应式数据
- **ref** - 引用对象
- **localStorage** - 本地存储

## 故障排除

### 常见问题

#### 1. 头像上传失败
- 检查图片格式是否为JPG或PNG
- 确认图片大小不超过2MB
- 检查网络连接

#### 2. 保存失败
- 检查表单验证是否通过
- 确认必填字段已填写
- 查看浏览器控制台错误信息

#### 3. 密码修改失败
- 确认当前密码输入正确
- 检查新密码长度是否满足要求
- 确认两次输入的新密码一致

#### 4. 页面加载失败
- 检查网络连接
- 刷新页面重试
- 清除浏览器缓存

#### 5. 404错误（已修复）
- 该问题已通过改进错误处理逻辑解决
- 页面现在优先使用本地存储，API调用作为可选更新
- 不再显示API调用失败的错误消息

### 调试信息
- 打开浏览器开发者工具
- 查看Console标签页的错误信息
- 检查Network标签页的网络请求

## 扩展功能

### 未来计划
- [ ] 支持更多头像格式
- [ ] 添加头像裁剪功能
- [ ] 支持第三方登录绑定
- [ ] 添加登录日志查看
- [ ] 支持多语言切换

### 自定义配置
- 可以修改表单验证规则
- 可以调整页面布局
- 可以自定义样式主题

## 更新日志

- **2024-01-XX**: 创建个人信息页面
- **2024-01-XX**: 添加头像上传功能
- **2024-01-XX**: 实现密码修改功能
- **2024-01-XX**: 添加表单验证
- **2024-01-XX**: 优化用户界面 